<html lang="en" dir="ltr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Integrity Watch FRANCE</title>
<link rel="shortcut icon" href="favicon.ico">
<link href="css/bower.min.css" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="css/dc.css"/>
<link rel="stylesheet" type="text/css" href="css/style.css"/>


<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the pdate via file:// -->
<!--[if lt IE 9]>
	<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
	<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<script type="text/javascript" src="js/bower.js"></script>

<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@TI_FR" />
<meta name="twitter:creator" content="@eucampaign" />

<meta property="og:url" content="http://www.integritywatch.eu" />
<meta property="og:title" content="FR Integrity Watch: monitor potential conflicts of interests" />
<meta property="og:description" content="Interactive database that provides a unique overview of the activities and outside income for the members of the European Parliament and Commission" />
<meta property="og:image" content="http://www.integritywatch.eu/img/thumbnail.jpg" />
<meta property="fb:app_id" content="1611680135716224" />

</head>
<body>


<script>
function getCost (d) { 
  //return +d.cout_de_lobbying;
  return +d.min;
} 

$( document ).ready(function() {
	$('#view_charts').click(function(ev) {
		ev.preventDefault();
		$('#hidden_charts_wrap').slideToggle('slow', function () {
			changeLinkStatus();
		})
	})
	
	function changeLinkStatus() {
		if($('#hidden_charts_wrap').css('display') == 'none'){
			$('#view_charts').text('VIEW ALL THE CHARTS')
		}else {
			$('#view_charts').text('HIDE CHARTS')
		}
		$('#view_charts').toggleClass('hiddencharts');
	}
	
	$('#collapse_about a').click(function(ev) {
		ev.preventDefault();
		$('#collapse_about a').toggleClass('opened');
		$('#collapse_about a').toggleClass('closed');
		$('#about_wrap').slideToggle('slow', function () {
			$('#about_wrap_top').slideToggle('fast')
		})
		
	})
	
	$('.info').click(function(ev) {
		ev.preventDefault();
		if($(this).hasClass('opened')){
			$(this).removeClass('opened');
			$(this).parents('.info_chart').find('p.desc').slideUp('fast')
		}else{
			closeAllInfos();
			$(this).addClass('opened');
			$(this).parents('.info_chart').find('p.desc').slideDown('fast')
		}
	});
	
	function closeAllInfos() {
		$('.info').removeClass('opened');
		$('p.desc').slideUp('fast');
	}
	
});

var detailtpl = sidetpl = null ;
var datatable = null;
var rep = null;

var representatives = events = [];
var ridx ={};

function grid (selector,data) {

	var ndx = crossfilter(data),
			all = ndx.groupAll();

	var color = d3.scale.linear()
				.clamp(true)
				.domain([0,1, 70])
				.range(["white","#ffc7b6", "#f85631"])
				.interpolate(d3.interpolateHcl);

		var lobby_category_colors = { 
			"Corporate":"#cf270e",
			"Consultants":"#d74517",
			"Think tanks":"#de6320",
			"Municipal":"#e58a13",
			"NGOs":"#ecb005",
			"Churches":"#f6d882",
			"Not mentioned":"#cccccc",
			"Not registered":"#cccccc",
			"Unknown":"#cccccc",
			"Deregistered":"#cccccc"
		}
		



	rep = ndx.dimension(function(d) {
      return d.acronyme.toLowerCase()+ " " + d.raison_sociale.toLowerCase()+ " ";
	});

	drawTable();
	drawMainCategory();
  	drawCounter();
	drawSector();
	drawExpense();
//	drawNbMeetings();
	drawNbLobbyists();
  	drawNbBadges();
//    drawCostByFTE();

	function rotateBarChartLabels(chart) {
		chart.svg().selectAll('.axis.x text')
			.style("text-anchor", "end" )
			.attr("transform", function(d) { return "rotate(-45, -4, 9) "; });

	}

  function drawCounter (){
		var dim = ndx.dimension (function(d) {
      return d.id;
		});


    //group.order (function(p){return p.nb});
  	var count = dc.dataCount(".org-count")
		.dimension(ndx)
	  .group (ndx.groupAll())
	  .on("renderlet.all", function(c) {

      RefreshTable();
    });
//			$(".resetall").attr("disabled",disabled);
//			ga && ga('send', 'event', 'filter', 'subset', filtered);

  }


	function drawExpense () {
		var dim = ndx.dimension (function(d) {
        return getCost(d);
	});
  
    var group   = dim.group().reduceSum( function(d) {return 1;});

  var formatInteger = d3.format(".0f");
  var maxBudget=5000000;
	var graph = dc.barChart (".expense")   
		.height(340)
		.width(830)
		.gap(1)
    .on("preRender",(function(chart,filter){
    }))
		.margins({top: 0, right: 10, bottom: 20, left: 40})
	//	.x(d3.scale.sqrt().domain([0, maxBudget]))
    .x(d3.scale.ordinal())
    .xUnits(dc.units.ordinal)
		.elasticX(true)
		.elasticY(true)
				.brushOn(true)
		//.yAxisLabel("Lobbying expense")
		.colorCalculator(function(d, i) {
			return "#f1ca58";
		})
		.dimension(dim)
		.group(group);
		//graph.xAxis().ticks(5).tickFormat(d3.format(",.0f"));
    graph.xAxis().ticks(5).tickFormat(function(d) {return formatInteger(d / 1e3) + "k€";});

		graph.yAxis().ticks(3).tickFormat(d3.format(",.0f"));
	}

	
	function drawNbMeetings () {
		var dim = ndx.dimension (function(d) {
        if (d.meetings>4)
          return 5;
			  return d.meetings;
		});

		var group   = dim.group().reduceSum(function(d) {   return 1; });
		
		var color = d3.scale.ordinal()
		    .range(["#f9e5ad", "#f1ca58","#ecb007","#e7960e","#e37e17","#de631f"]);
		
		var chart = dc.pieChart(".meetings")
			.innerRadius(50).radius(100)
			.height(200)
			.minAngleForLabel(.2)
			.label(function(d){ 
          	if (d.key == 5)
            	return ">5";
          	return d.key })
			.title (function(d){ 
         		switch(d.key) {
           			case 0:
             			return "no meeting";
           			case 1:
             			return d.key + " meeting: " + d.value;
            	 	break;
           			case 5:
             			return ">5 meetings: " + d.value;
             		break;
           				default:
             		return d.key + " meetings: " + d.value;
         		}
       		})
			.dimension(dim)
			.colorCalculator(function(d, i) {
				return color(d.key);
			})
			.group(group);
	}

	function drawNbBadges () {
		var dim = ndx.dimension (function(d) {
        if (!d.nb_card) return 0;
        if (d.nb_card>4)
          return 5;
			  return d.nb_card;
		});

		var group   = dim.group().reduceSum(function(d) {   return 1; });
		
		var color = d3.scale.ordinal()
		    .range(["#f9e5ad", "#f1ca58","#ecb007","#e7960e","#e37e17","#de631f"]);
					
		var chart = dc.pieChart(".accreditations")
			.innerRadius(50).radius(100)
			.height(200)
			.width(200)
			.minAngleForLabel(.2)
			.label(function(d){ 
	          if (d.key == 5)
	            return ">5";
	          return d.key })
				.title (function(d){ 
	         switch(d.key) {
	           case 0:
	             return "no accreditation";
	           case 1:
	             return d.key + " accreditation: " + d.value;
	             break;
	           case 5:
	             return ">5 accreditations: " + d.value;
	             break;
	           default:
	             return d.key + " accreditations: " + d.value;
	         }
       })
			.dimension(dim)
			.colorCalculator(function(d, i) {
				return color(d.key);
			})
			.group(group);
	}

	function drawNbLobbyists () {
		var color = d3.scale.ordinal()
		    .range(["#f9e5ad", "#f1ca58","#ecb007","#e7960e","#e37e17","#de631f"]);
		var dim = ndx.dimension (function(d) {
        if (d.nb_personne>4)
          return 5;
			  return (+d.nb_personne).toFixed();
		});

		var group   = dim.group().reduceSum(function(d) {   return 1; });

		var chart = dc.pieChart(".nblobbyists")
			.innerRadius(50).radius(100)
			.width(200)
			.height(200)
			.label(function(d){ 
	          if (d.key == 5)
	            return ">5";
	          return d.key })
				.title (function(d){ 
	         switch(d.key) {
	           case 0:
	             return "pas de lobbyiste";
	           case 1:
	             return d.key + " lobbyistes: " + d.value;
	             break;
	           case 5:
	             return ">5 lobbyistes: " + d.value;
	             break;
	           default:
	             return d.key + " lobbyistes: " + d.value;
	         }
	       })
			.dimension(dim)
			.group(group)
			.colorCalculator(function(d, i) {
				return color(d.key);
			});
	}

	function drawMainCategory () {
		var dim = ndx.dimension (function(d) {
			  return d.categorie;
		});

		var group   = dim.group().reduceSum(function(d) {   return 1; });
	var lobby_sector_colors = {	
		"Entreprise":"#cf270e",//Corporate
		"Association d'entreprises":"#cf270e",//Corporate
		"Conseil privé":"#d74517",//Consultants
		"Self-employed consultants":"#d74517",//Consultants
		"Association, ONG":"#ecb005",//NGOs
		"Entreprise publique":"#de6320",//
		"Organisation représentative":"#f6d882",//Churches
		"Organisme public ou parapublic":"#e58a13",//Municipal

		"Unknown":"#cccccc"
	}
		
		var chart = dc.pieChart(".categorie")
			.innerRadius(50).radius(100)
			.width(200)
			.label(function(d){ return d.categorie })
			.dimension(dim)
    .colorCalculator(function(d, i) {
			return lobby_sector_colors[d.key];
		})
      .legend(dc.legend().y(20).x(220))
			.group(group);
	}

	function drawSector () {
	var dim = ndx.dimension (function(d) {
			return d.secteur;
	});

	var group   = dim.group().reduceSum(function(d) {   return 1; });
		

	var graph = dc.rowChart (".sector")   
		.height(850)
		//.width(350)
		.gap(1)
		.margins({top: 0, right: 0, bottom: 0, left: 0})
		.x(d3.scale.ordinal())
		.label(function(d){ return d.key })
		.title (function(d){ return d.key +" "+d.value })
		.elasticX(true)
    .colorCalculator(function(d, i) {
			if (d.key == "NULL" || d.key == "")
				return "#cccccc";
			return "#ecb005";
		})
		.dimension(dim)
		.group(group)
		.xAxis().ticks(4).tickFormat(d3.format(",.0f"));

	}




	function drawTable () {
		var count=0;
    //id,contact_country,sub_category,acronym,name,categorie,cost_min,cost_max,cost_absolute

    datatable = $(".table").dataTable({
            "columnDefs": [ {
              "defaultContent":"",
              "orderable": false,
              "targets": 0,   
              data: function ( row, type, val, meta ) {
                count++;
                return count;
              }
              },{
              "searchable": false,
              "orderable": true,
              "targets": 1,
              data: function (row, type, val, meta) { 
                if (row.acronyme) 
                  return row.raison_sociale+" ("+row.acronyme +" )";
                return row.raison_sociale;
                }
              //data: "name",  
              },{
              "defaultContent":"No data",
              "searchable": false,
              "orderable": true,
              "targets": 2,
              "data": "categorie"
              },{
              "defaultContent":"No data",
              "searchable": false,
              "orderable": true,
              "targets": 3,
              data: "secteur",  
              },{
              "defaultContent":"No data",
              "searchable": false,
              "orderable": true,
              "type":"num-fmt",
              "targets": 4,
              data: "nb_personne",  
              },{
              "defaultContent":"No data",
              "searchable": false,
              "orderable": true,
              "type":"num-fmt",
              "targets": 5,
              data: "nb_card",  
              },{
              "searchable": false,
              "orderable": true,
              "type":"num-fmt",
              "targets": 6,
              "className": "number",
              "render": function ( data, type, row ) { 
                return d3.format(",g")(data);
              },
              data: function (row, type, val, meta) { if (!row) {return "";} ;
                  return getCost(row);
                }
              },{
              "searchable": false,
              "orderable": true,
              "type":"num-fmt",
              "targets": 7,
              "className": "number",
              "render": function ( data, type, row ) { 
                return d3.format(",g")(data);
              },
              data: function (row, type, val, meta) { if (!row) {return "";} ;
                  return row.max;
                }
              }
            ],
            "iDisplayLength" : 100,
            "bPaginate": true,
            "bLengthChange": false,
            "bFilter": false,
            "order": [[ 2, "desc" ]],
            "bSort": true,
            "bInfo": false,
            "bAutoWidth": false,
            "bDeferRender": true,
            "aaData": rep.top(Infinity),
            "bDestroy": true,
        });
	
    function format (d) {
    	var initiatives;
    	
    	s  = "<div class='l_data_container'>";
    	acr = "";
    	if (d.acronyme != "") {
    		acr = "("+d.acronyme+")"
    	}
    	s += "<div class='l_name'><label>Raison sociale</label> "+d.raison_sociale+" "+acr+"</div>";
    	s += "<div class='l_category'><label>Catégorie</label> "+d.categorie+"</div>";
    	s += "<div class='l_cost'><label>Budget Lobbying(&euro;)</label>"+d.cout_lobbying+ "</div>";
    	s += "<div class='l_cost'><label>Chiffre d'affaire(&euro;)</label>"+d.budget_global+ "</div>";
    	s += "<div class='l_year'><label>Pour l'année comptable</label> "+d.annee+"</div>";
    	s += "<div class='l_year'><label>Nombre de badges</label> "+d.nb_card+"</div>";
    	s += "<div class='l_fte'><label>Nombre lobbyistes</label> "+d.nb_personne+"</div>";
    	s += "<div class='l_initiatives'><label>Activités de lobbying</label>"+d.initiative_assemblee+"</div>";
    	s += "<div class='l_code'><label>Code de conduite</label> "+d.code+"</div>";
    	s += "<div class='l_code_autre'><label>Charte de lobbying</label> "+d.code_de_conduite+"</div>";
    	s += "<div class='l_declaration'><label>Déclaration originale</label> "+"<a href='http://www2.assemblee-nationale.fr/representant/representant_interet_detail/"+d.id_representant+"' target='_blank'>Fiche à l'Assemblée nationale</a></div>";
    	s += "</div>";
    	return s;
    }

    datatable.on('click', 'button', function () {
        var tr = $(this).closest('tr');
        var type=$(this).data("type");
        var pre=$(this).parent().parent().next("pre");
        var row = datatable.DataTable().row( tr.prev()[0] );
        var d=row.data();
     	
        if (type == "event") {
            var sevents =[];
            _.each(events,function (e){
            if (e.guestid == d.id)
              sevents.push(e);
            });
            pre.html(JSON.stringify(sevents,null,2));
            return;
        }

        var r = (tr.data("representative"));
        if (!r) {
          url="http://api.lobbyfacts.eu/api/1/representative/"+d.id+"?callback=?";
          $.getJSON( url, function( data ) {
            tr.data("representative",data);            
            display (data);
          });          
          return;
        }
        display(r,type);

        function display (data) {
          switch (type) {
            case "financial_data":
             pre.html(JSON.stringify(data["financial_data"],null,2));
              break;
            case "accreditation":
             pre.html(JSON.stringify(data["accreditations"],null,2));
              break;
            default:
              pre.html(JSON.stringify(data,null,2));
          }
        }
        
    } );
    
    datatable.on('click', 'tr[role="row"]', function () {
        var tr = $(this);
        var row = datatable.DataTable().row( tr );
 
        if ( row.child.isShown() ) {
            // This row is already open - close it
            row.child.hide();
            tr.removeClass('shown');
        }
        else {
            // Open this row
            row.child( format(row.data()) ).show();
            tr.addClass('shown');
        }
    } );
        datatable.on( 'order.dt search.dt', function () {
          datatable.DataTable().column(0, {search:'applied', order:'applied'}).nodes().each( function (cell, i) {
            cell.innerHTML = i+1;
          } );

        });

	}

       function RefreshTable() {
            dc.events.trigger(function () {
                alldata = rep.top(Infinity);
                datatable.fnClearTable();
                datatable.fnAddData(alldata);
                datatable.fnDraw();
            });
        }

		dc.renderAll();
		hashFilter();



}


function hashFilter () {
	var hash = window.location.hash;

	 if(hash.indexOf('#mep') === 0) { 
		 eventpopup(hash.substring(4));
		 ga && ga('send', 'event', 'urlevent',hash.substring(4));
	 }
}
	 
function eventpopup (epid) {
			window.location.hash = "event"+d.epid;
			 ga && ga('send', 'event', 'clickevent',hash.substring(4));
			//$( "#twitter").html(tplTwitter(d));

}

</script>


<nav class="navbar navbar-default" role="navigation">
	<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<div class="navbar-brand" id="ti_logo_container">
						<a id="ti_logo" href="http://www.transparencyinternational.eu">Transparency International</a>
						<a id="page_title" href="/" target="_blank"><strong>FR</strong> Integrity<br />Watch</a>
				</div>
			</div>
		
			<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
				<ul class="nav navbar-nav">
					<li id="cm_tool_btn"><a href="ec.html"><strong>Commission</strong> <br />meetings</a></li>
					<li class="active" id="bl_tool_btn"><a href="lobbist.html"><strong>FR</strong><br />Lobbyists</a></li>
					<li id="mi_tool_btn"><a href="ep.html"><strong>MEP</strong> <br />incomes</a></li>
				</ul>
				<ul class="nav navbar-nav navbar-right">
					<li><a href="about.html">A propos</a></li>
					<li><a href="contact.html">Contact</a></li>
				</ul>
			</div>
	 </div><!-- container -->
</nav>
<div class="container_wrap bl_header" id="about_wrap_top">&nbsp;</div>
<div class="container_wrap bl_header" id="about_wrap">
	<div class="container">
		<div id="about_container" class="row">
			<div class="col-md-3 col-lg-3" id="about_content_icon">
			</div>
			<div class="col-md-6 col-lg-6" id="about_content">
				<p>
        Ceci est une base de données interactive et facile à utiliser fournissant un aperçu unique des groupes de pression, représentants d’intérêts et organismes de lobbying enregistrés auprès de L’Assemblée Nationale en France. 
				<br /><a href="about.html" class="more">Voir plus</a></p>
				<p>
        L’utilisation de cet outil est simple: en cliquant sur les graphes ou les titres de la liste ci-dessous l’outil peut classer, trier et filtrer les organisations de lobbyistes français.
        </p>
			</div>
			<div class="col-md-3" id="about_social">
				<br/>
				<a href="https://twitter.com/share" class="twitter-share-button" data-via="TI_FR" data-text="Who’s #lobbying the @FR_Commission and how much are they spending? Check #integritywatch #transparency">Tweet</a>
				<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
				<br/>
				<br/>
				<div class="fb-like" data-show-faces="false"  data-href="http://www.integritywatch.eu/" data-layout="standard" data-action="like" data-show-faces="true" data-share="true"></div>

				<div id="fb-root"></div>
				<script>(function(d, s, id) {
					var js, fjs = d.getElementsByTagName(s)[0];
					if (d.getElementById(id)) return;
					js = d.createElement(s); js.id = id;
					js.src = "//connect.facebook.net/en_GB/all.js#xfbml=1";
					fjs.parentNode.insertBefore(js, fjs);
				}(document, 'script', 'facebook-jssdk'));</script>

			</div>
		</div>
		
	</div><!-- container -->
</div>

<div class="container_wrap" id="toggle_about_wrap">
	<div class="container">
		<div class="row">
			<div class="col-xs-2 col-md-1 col-centered bl_collapse" id="collapse_about">
				<a class="opened" href="#">collapse</a>
			</div>
		</div>
	</div>
</div>

<div class="container_wrap filter_bl" id="filter_wrap">
	<div class="container">
		<div class="row">
			<div class="col-xs-9 col-sm-9 col-md-4" id="filter_field_container">
				<p>Search or filter:</p>
				<div class="input-group">
					<input type="text" id="search-input" class="form-control input-lg" placeholder="Filter by Lobbyist, Host, Subject">
				</div>
			</div>
			<div class="col-sm-7 col-md-7" id="filter_numbers">
				<div class="row">
					<div class="col-md-2" id="currently_selected_text"><p>Sélectionné:</p></div>
					<div class="col-md-2 filter_number">
						<div id="mep_number" class="dc-data-count org-count">
							<span id="abig_number" class="big_number filter-count"></span>parmi <strong class="total-count"></strong> organisations
						</div>
					</div>
				</div>
			</div>
			<div class="col-xs-3 col-sm-3 col-md-1" id="resetall_container">
				<button class="btn resetall">RESET<br />FILTERS</button>
			</div>
		</div>
	</div>
</div>

<div id="ec">
	<div class="container_wrap" id="main_charts_wrap">
		<div class="container">
			<div class="row">
          		<div class="col-md-4">
          			<div class="chart_box">
          				<h3>Secteur</h3>
          				<div class="info_chart">
          					<span class="info">info</span>
          					<p class="desc">
      Les classifications dans ce graphe sont basés sur les déclarations auprès de l’Assemblée. Pour pouvoir les visualiser dans ce graph certains catégories ont été regroupés, simplifiés et pour certains organisations une seule catégorie parmi plusieurs a été sélectionnée.

       
          					</p>
          				</div>
          				<div class="sector range chart-full"></div>
          				<br class="clear" />
          			</div>
          	</div>
       <div class="col-md-8">
       <div class="row">

				<div class="col-md-8 chart_box">
					<h3>Categorie</h3>
					<div class="info_chart">
						<span class="info">info</span>
						<p class="desc">
            Les classifications dans ce graphe reflètent les catégories établies par le registre de l’Assemblée. Les noms ont été raccourcis et parfois groupés. Les sections du camembert reflètent le nombre d'organisations enregistrées par catégorie.
						</p>
					</div>
					<div class="categorie"></div>
					<div class="legend">
						<br class="clear" />
					</div>
					<br class="clear" />
				</div>
	          			<div class="col-md-4 chart_box" id="hosttype">
                    <div>
	          					<h3>Cartes de représentants<!--span class="info">info</span--></h3>
	          					<div class="info_chart">
	          						<span class="info">info</span>
	          						<p class="desc">
                        Nombre de cartes d’accès pour l’Assemblée déclarés par les organisations mêmes auprès du registre de l’Assemblée.
	          						</p>
	          					</div>
	          					<div class="accreditations"></div>
	          					<br class="clear" />
	          				</div>
	      				<div class="nncol-md-4 chart_box">
	      					<h3>Nb lobbyistes</h3>
	      					<div class="nblobbyists"></div>
	      				</div>
	          				</div>
				
			  	</div>

      <div class="row">
				<div class="col-md-12 chart_box" id="lobbying_expense">
					<h3>Budget lobbying</h3>
					<div class="info_chart">
						<span class="info">info</span>
						<p class="desc">
            Coûts liés aux activités directes de représentation d'intérêts auprès du Parlement comme déclaré par les organisations mêmes auprès de l’Assemblée. En cas de fourchette nous avons utilisé la valeur basse. Valeurs en euro par an.
						</p>
					</div>
					<div class="expense">
					</div>
					<label>Nombre d'organisations</label>
				</div>

      				</div>
				
          		</div>
		</div>
	</div>	
</div>


<div class="container_wrap" id="list_container">
	<div class="container">
		<div class="row">
			<div class="content" id="list_content">
				<div id="info_table_container">
					<div class="info_chart info_table" id="meetings_info">
						<span class="info">info</span>
						<p class="desc">Number of high-level meetings the organisation has had with the European Commission since December 2014.
						</p>
					</div>
					
					<div class="info_chart info_table" id="budget_info">
						<span class="info">info</span>
						<p class="desc">Lobby budget as declared by the organisation in the FR Transparency Register under “estimate of the annual costs related to activities covered by the register”. According to the official guidelines estimates should include staff costs, office, administrative and operational expenses, outsourced activities, memberships and other relevant costs.</p>
					</div>
					
					<div class="info_chart info_table" id="lobbyist_info">
						<span class="info">info</span>
						<p class="desc">Number of lobbyists (in full-time equivalent) as declared by the organisation on the FR Transparency Register.</p>
					</div>
					
					<div class="info_chart info_table" id="badges_info">
						<span class="info">info</span>
						<p class="desc">Number of access badges to the European Parliament that the organisation holds for the lobbyists. Information published on the FR Transparency Register.
						</p>
					</div>
				</div>
			</div>
			
			<div class="col-md-12 table-responsive">
				<table class="table table-hover dc-data-grid tablesorter-bootstrap">
					<thead>
						<tr class=header>
							<th class="header">Nr</th> 
							<th class="header col-md-4">Nom</th> 
							<th class="header">Categories</th> 							
							<th class="header">Secteurs</th>
							<th class="header">Nb lobbyistes</th>
							<th class="header">Nb cartes</th>
              <th class="header">Budget lobbying (min)</th>
							<th class="header">(max)</th>
						</tr>
					</thead>
				</table>
			</div>
		</div>
	</div>
</div>

<script>
'use strict';
	var representatives={};

	$(function() {
		var renderLoaded  = _.after(1,  function () { 
			//var dateFormat = d3.time.format("%Y-%m-%d");

		});
    d3.csv("representants.csv", function(d) {return d;}
      ,function (rows) {
        representatives = rows;
				 _.each (representatives, function (d,i) {
						//representatives[d.identification_code]=d;
            d.costbyfte = (+getCost(d)/+d.fte).toFixed();
            ridx[d.id]=i;
						d.meetings=0;
			});
			   grid ("#ec",representatives);
		});     

	$("#search-input").keyup (function () {
		var s = $(this ).val().toLowerCase();
		rep.filter(function (d) { 
			return d.indexOf (s) !== -1;} );
		$(".resetall").attr("disabled",false);
		throttle();
//        dc.redrawAll();

		var throttleTimer;
		function throttle() {
			window.clearTimeout(throttleTimer);
			throttleTimer = window.setTimeout(function() {
					dc.redrawAll();
			}, 250);
		}
	});

	$(".resetall").click(function() {
		$("#search-input").val("");
		$(".resetall").attr("disabled",true);
		dc.filterAll();
		dc.renderAll();

	});

 
});      

</script>



<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	ga('create', 'UA-55613514-1', 'auto');
	ga('send', 'pdateview');

</script>
</body>
</html>
